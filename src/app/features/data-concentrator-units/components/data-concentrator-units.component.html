<!-- header -->
<div class="d-flex align-items-center mb-3">
  <app-header-title></app-header-title>
  <button class="btn btn-primary btn-round">
    <i class="uil uil-plus"></i>
  </button>
  <app-breadcrumb class="ml-auto"></app-breadcrumb>
</div>

<!-- row total items, selected filter name -->
<div class="d-flex align-items-center px-2 bg-white" *ngIf="!selectedAtLeastOneRowOnGrid">
  <div>{{totalCount}} <span i18n>items</span> &middot; {{filters}}</div>
  <app-action-form (searchChange)=searchData($event) (refresh)="refreshGrid()" (columnsChange)="setVisibilityGridColumns()" class="ml-auto"></app-action-form>
</div>

<div class="d-flex align-items-center px-2 py-3 bg-primary" *ngIf="selectedAtLeastOneRowOnGrid">
  <div class="mr-1">
    <span class="align-text-bottom" i18n>{{gridApi.getSelectedRows().length}} items selected</span> &middot; 
    <a class="align-text-bottom text-white" href="void();" ><span i18n>Select all</span> ({{totalCount}}) <span i18n>items</span></a>
  </div>
  <button type="button" class="btn btn-light mr-1" (click)="onUploadConfiguration()"><span
        i18n>Upload Configuration</span></button>
  <button type="button" class="btn btn-light" (click)="onUpgrade()"><span
        i18n>Upgrade</span></button>
</div>

<!-- ag-grid -->
<div class="bg-white">
  <ag-grid-angular
    class="ag-theme-balham"            
    style="width: 100%; height: calc(100% - 25px);"
    #agGrid

    [domLayout]=agGridSettings.domLayout
    suppressSizeToFit=agGridSettings.suppressSizeToFit
         
    [rowData]="rowData"
    [modules]="modules"
    [icons]="icons"
    [pagination]=agGridSettings.pagination
   
    [paginationPageSize]= agGridSettings.paginationPageSize
    [multiSortKey]=agGridSettings.multiSortKey
    [cacheOverflowSize]="cacheOverflowSize"
    [maxConcurrentDatasourceRequests]="maxConcurrentDatasourceRequests"
    [frameworkComponents]="frameworkComponents"

    [gridOptions]="gridOptions"    
    [columnDefs]="columns"

    [suppressRowClickSelection]=agGridSettings.suppressRowClickSelection
    [rowSelection]=agGridSettings.rowSelection

    (selectionChanged)="onSelectionChanged()"
    (gridReady)="onGridReady($event)"
    >
  </ag-grid-angular>
  <div class="test-header">
    Page Size:
    <select #select (change)="onPageSizeChanged()" id="page-size">
      <option value="10" selected="">10</option>
      <option value="100">100</option>
      <option value="500">500</option>
      <option value="1000">1000</option>
    </select>
  </div>
</div>