<!-- header -->

<!--<div class="d-flex align-items-center mb-3">
  <app-header-title [headerTitle]="headerTitle"></app-header-title>
  <button [appHideIfAuthorizedReadonly]="formFunctionality" class="btn btn-primary btn-round" (click)="addDcu()" *ngIf="!noData">
    <i class="far fa-plus"></i>
  </button>
  <app-breadcrumb class="ml-auto"></app-breadcrumb>
</div>-->

<!-- row total items, selected filter name -->
<div *ngIf="!noData">
  <div class="d-flex align-items-center p-2 grid-actions" *ngIf="!selectedAtLeastOneRowOnGrid">
    <!--<small class="text-secondary">
      {{totalCount}} <span i18n>items</span> &middot; {{filters}}
      <a class="ml-3" *ngIf="isFilterSet()" href="javascript:void(0);" (click)="clearFilter()"><span i18n>Clear all</span></a>
    </small>-->
    <button [appHideIfAuthorizedReadonly]="formFunctionality" class="btn btn-primary" (click)="addDcu()" *ngIf="!noData">
      <i class="far fa-plus"></i> <span i18n>Add</span>
    </button>
    <app-action-form (searchChange)=searchData($event) (refresh)="refreshGrid()" class="ml-auto justify-content-end">
    </app-action-form>

  </div>

  <div class="d-flex align-items-center p-2 bg-primary" *ngIf="selectedAtLeastOneRowOnGrid">
    <div class="mr-3" *ngIf="!checkSelectedAll()">
      <small class="text-white">{{gridApi.getSelectedRows().length}} <span i18n>items selected</span> &middot;
        <strong><u><a class="text-white" href="javascript:void(0);" (click)="selectAll()"><span i18n>Select all</span>
              ({{totalCount}})</a></u></strong></small>
    </div>
    <div class="mr-3" *ngIf="checkSelectedAll()">
      <small class="text-white"><span i18n>All ({{totalCount}}) items selected</span> &middot;
        <strong><u><a class="text-white" href="javascript:void(0);" (click)="deselectAll()"><span i18n>Clear
                selected</span></a></u></strong></small>
    </div>
    <div *ngIf="false"> <!-- TODO uncomment when implemented (remove div) -->
    <button [appHideIfAuthorizedReadonly]="formFunctionality" type="button" class="btn btn-link" (click)="onDelete()"><i class="far fa-trash"></i></button>
    <button [appHideIfAuthorizedReadonly]="formFunctionality" type="button" class="btn btn-link" (click)="onTag()"><i class="far fa-tags"></i></button>
    <button appHideIfActionUnauthorized [functionality]="formFunctionality" [action]="actionDCUUpgrade" type="button" class="btn btn-link" (click)="onUpgrade()"><i class="far fa-arrow-alt-square-up"></i><span
        i18n>Upgrade</span></button>
    <button appHideIfActionUnauthorized [functionality]="formFunctionality" [action]="actionDCUConfiguration" type="button" class="btn btn-link" (click)="onUploadConfiguration()"><i class="far fa-cogs"></i><span
        i18n>Configuration</span></button>
      </div>
  </div>

  <!-- ag-grid -->
  <ag-grid-angular class="ag-theme-epoint" style="width: 100%; height: calc(100% - 25px);" #agGrid
    [domLayout]=agGridSettings.domLayout suppressSizeToFit=agGridSettings.suppressSizeToFit [modules]="modules"
    [icons]="icons" [pagination]=agGridSettings.pagination [paginationPageSize]=agGridSettings.paginationPageSize
    [multiSortKey]=agGridSettings.multiSortKey [cacheOverflowSize]="agGridSettings.cacheOverflowSize"
    [maxConcurrentDatasourceRequests]="agGridSettings.maxConcurrentDatasourceRequests"
    [frameworkComponents]="frameworkComponents" [cacheBlockSize]=agGridSettings.paginationPageSize
    [maxBlocksInCache]="1" [gridOptions]="gridOptions" [columnDefs]="columns"
    [suppressRowClickSelection]=agGridSettings.suppressRowClickSelection [rowSelection]=agGridSettings.rowSelection
    [sideBar]="sideBar" [overlayNoRowsTemplate]="overlayNoRowsTemplate"
    [overlayLoadingTemplate]="overlayLoadingTemplate" (selectionChanged)="onSelectionChanged()"
    (gridReady)="onGridReady($event)" (columnVisible)="onColumnVisible($event)"
    (toolPanelVisibleChanged)="toolPanelChanged($event)" (paginationChanged)="onPaginationChange($event)"
    (rowSelected)="onRowSelect($event)" (firstDataRendered)="onFirstDataRendered($event)"
    [localeText]="localeText">
  </ag-grid-angular>
</div>

<div *ngIf="noData" class="d-flex flex-column justify-content-center align-items-center" style="height: 30vh;">
  <i class="far fa-empty-set fa-5x text-secondary mb-4"></i>
  <h3 class="mb-3" i18n>You have no Data Concentrator Units yet!</h3>
  <button type="button" class="btn btn-lg btn-primary" (click)="addDcu()"><i class="far fa-plus"></i><span i18n>Add First</span></button>
</div>
