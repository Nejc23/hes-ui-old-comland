<!-- header -->
<div class="d-flex align-items-center">
  <app-header-title></app-header-title>
  <button class="btn btn-primary btn-round">
    <i class="uil uil-plus" id="tipContentAdd"></i>
  </button>
  <app-breadcrumb class="ml-auto"></app-breadcrumb>
</div>

<!-- row total items, selected filter name -->
<div class="form-row mt-0 bg-white" *ngIf="!selectedAtLeastOneRowOnGrid">
  <div class="pl-2 align-bottom pt-3">
    <span class="align-text-bottom" i18n>{{totalCount}} items &middot; {{filters}}</span>
  </div>
  <div class="ml-auto mt-2 mb-2 mr-2">
    <app-action-form (searchChange)=searchData($event) (refresh)="refreshGrid()"
      (columnsChange)="setVisibilityGridColumns()"></app-action-form>
  </div>
</div>

<div class="form-row mt-0 bg-primary" *ngIf="selectedAtLeastOneRowOnGrid">
  <div class="pl-2 col-4 align-bottom pt-3 text-white">
    <span class="align-text-bottom" i18n>{{gridApi.getSelectedRows().length}} items selected</span> - 
    <a class="align-text-bottom text-white" href="void();" ><span i18n>Select all</span> ({{totalCount}}) <span i18n>items</span></a>
  </div>
  <div class="col-auto pt-1">
    <button type="button" class="btn btn-secondary d-inline-block mb-1" (click)="onUploadConfiguration()"><span
        i18n>Upload Configuration</span></button>
  </div>
  <div class="col-auto pt-1">
    <button type="button" class="btn btn-secondary d-inline-block mb-1" (click)="onUpgrade()"><span
        i18n>Upgrade</span></button>
  </div>
</div>

<!-- ag-grid -->
<div class="form-row mt-0 bg-white">
  <ag-grid-angular
    class="ag-theme-balham"            
    style="width: 100%; height: calc(100% - 25px);"
    #agGrid

    [domLayout]=agGridSettings.domLayout
    suppressSizeToFit=agGridSettings.suppressSizeToFit
         
    [rowData]="rowData"
    [modules]="modules"
    [icons]="icons"
    [pagination]=agGridSettings.pagination
   
    [paginationPageSize]= agGridSettings.paginationPageSize
    [multiSortKey]=agGridSettings.multiSortKey
    [cacheOverflowSize]="cacheOverflowSize"
    [maxConcurrentDatasourceRequests]="maxConcurrentDatasourceRequests"
    [frameworkComponents]="frameworkComponents"

    [gridOptions]="gridOptions"    
    [columnDefs]="columns"

    [suppressRowClickSelection]=agGridSettings.suppressRowClickSelection
    [rowSelection]=agGridSettings.rowSelection

    (selectionChanged)="onSelectionChanged()"
    (gridReady)="onGridReady($event)"
    >
  </ag-grid-angular>
  <div class="test-header">
    Page Size:
    <select #select (change)="onPageSizeChanged()" id="page-size">
      <option value="10" selected="">10</option>
      <option value="100">100</option>
      <option value="500">500</option>
      <option value="1000">1000</option>
    </select>
  </div>
</div>