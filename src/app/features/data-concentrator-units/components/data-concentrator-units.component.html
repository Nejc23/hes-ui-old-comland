<div class="form-row mt-0">
  <div class="pl-2 pr-2">
      <app-header-title></app-header-title>       
    </div>
    <div class="col-1 float-left">
      <i class="fas fa-plus-circle fa-2x text-primary"></i>
    </div>
    <div class="ml-auto pl-2 pr-2 pb-1">
     <app-breadcrumb ></app-breadcrumb>
    </div>
  </div>

<div class="form-row mt-0 bg-white">
  <div class="pl-2 align-bottom pt-3">
    <span class="align-text-bottom">{{totalCount}} items - {{filters}}</span>    
  </div>
  <div class="ml-auto pr-2">
    <app-action-form (refresh)="refreshGrid()"></app-action-form>     
  </div>
</div>

<!-- grid -->
<div class=" mt-0 bg-white">
  <dx-data-grid #grid
    id="gridContainer"
    [dataSource]="dataSource"
    [columns]="columns"    
    [allowColumnResizing]="true"
    [allowColumnReordering]="true"    
    [(selectedRowKeys)]="selectedRows"
    [showRowLines]="true"
    [showBorders]="true"
    [columnAutoWidth]="true"
    [remoteOperations]="true"
    [focusStateEnabled]="true">
    
    <div *dxTemplate="let cell of 'cellTemplate'">
        <div class="text-primary">{{cell.data.last_name}}</div>
    </div>
    <div *dxTemplate="let cell of 'cellTemplateIcon'">
      <i class='uils uil-clock text-secondary'></i>
      <!--<span *ngIf="cell.data.gender === 'Male'" class="iconify uils uil-clock text-secondary" title="{{cell.data.gender}}"></span>-->
  </div>
  <dxo-selection
    [selectAllMode]="allMode"
    [showCheckBoxesMode]="checkBoxesMode"
    mode="multiple"
  ></dxo-selection>
    <dxo-column-fixing [enabled]="true"></dxo-column-fixing> 
    <dxo-paging [pageSize]="20"></dxo-paging>
    <dxo-pager
      alignment="left"
      [showPageSizeSelector]="true"
      [allowedPageSizes]="[20, 50, 100, 150]"
      [showNavigationButtons]="true">
    </dxo-pager>  
  </dx-data-grid>
</div>

<div class="selected-data">
  <span class="caption">Selected Records:</span>
  <span>
      {{grid.selectedRowKeys ? (grid.instance.getSelectedRowsData() | stringifyEmplyees) : 'Nobody has been selected'}}
  </span>
</div>