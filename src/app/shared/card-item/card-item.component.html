<div class="app-card-item">
  <div
    class="app-card-header">
    <div class="tw-text-xl">
      {{ title | translate }}
    </div>
    <button (click)="onButtonClicked()" *ngIf="buttonLabel"
            class="app-card-button">
      <img *ngIf="buttonIconName" [src]="'assets/images/icons/' + buttonIconName + '.svg'" class="tw-pr-2" />
      <span class="tw-text-darkGray tw-font-medium">{{ buttonLabel | translate }}</span>
    </button>
  </div>
  <div class="app-card-body">
    <ng-container *ngIf="form">
      <div
        *ngFor="let formData of controls  | slice: 0: paginationLimit ?  paginationLimit: controls.length; let i = index"
        [ngClass]="i >= initLimit ? 'tw-bg-backgroundGray' : ''"
        class="app-card-row">
        <div class="tw-text-darkGray">
          {{ 'FORM.' + formData.name.toUpperCase() | translate }}
        </div>
        <div class="tw-text-black">
          <ng-container *ngIf="formData.control.value?.id; else notObject">
            {{ formData.control.value.value }}
          </ng-container>
          <ng-template #notObject>  {{ formData.control.value}} </ng-template>
        </div>
      </div>
    </ng-container>

    <div *ngIf="gaugeValues.length > 0 || chartData"
         class="tw-inline-flex tw-h-44 tw-items-center tw-justify-between tw-w-full rounded-bottom-border">
      <ng-container *ngFor="let value of gaugeValues">
        <kendo-circulargauge [colors]="colors" [scale]="{ max: 100 }" [value]="value" class="tw-h-20 tw-w-20">
          <ng-template kendoCircularGaugeCenterTemplate let-value="value">
            {{ value }}%
          </ng-template>
        </kendo-circulargauge>
      </ng-container>

      <div class="tw-h-40 card-item-graph">
        <kendo-chart>
          <kendo-chart-series>
            <kendo-chart-series-item [data]="chartData" type="column">
            </kendo-chart-series-item>
          </kendo-chart-series>
        </kendo-chart>
      </div>
    </div>
  </div>
  <ng-container *ngIf="form">
    <div (click)="showMoreItems()" *ngIf="paginationLimit < controls.length"
         class="app-card-show-more-button">
      {{ 'COMMON.SHOW-MORE' | translate }}
      <i class="fas fa-chevron-down"></i>
    </div>
    <div (click)="showLessItems()" *ngIf="paginationLimit >= controls.length"
         class="app-card-show-more-button">
      {{ 'COMMON.SHOW-LESS' | translate }}
      <i class="fas fa-chevron-up"></i>
    </div>
  </ng-container>
</div>
