<body id="page-top" [ngClass]="{'sidebar-toggled': app.layout.isMenuCollapsed}">
  <app-action-preventer>
  </app-action-preventer>


  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Fixed sidebar -->
    <app-side-fixed-nav></app-side-fixed-nav>

    <!-- Sidebar -->
    <ul class="navbar-nav bg-dark sidebar sidebar-dark accordion" id="accordionSidebar"
      [ngClass]="{'toggled': app.layout.isMenuCollapsed && !isMouseOverNav}" (mouseover)="mouseOverNav()"
      (mouseleave)="mouseLeavesNav()">
      <!-- Sidebar Toggler (Sidebar) -->
      
      <button id="sidebarToggle" class="rounded-circle border-0 position-absolute" 
      [ngClass]="{'toggled': app.layout.isMenuCollapsed, 'mouseover': isMouseOverNav}"
       (click)="app.layout.isMenuCollapsed = !app.layout.isMenuCollapsed">
        <i class='uil icon-small'
          [ngClass]="{'uil-shrink': !app.layout.isMenuCollapsed, 'uil-arrows-h-alt': app.layout.isMenuCollapsed}"></i>
      </button>

      <li class="nav-item dropdown" *ngIf="!app.layout.isMenuCollapsed || isMouseOverNav">
        <a class="nav-link dropdown-toggle pr-4" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <i class="uil uil-building mr-2"></i>
          <span>{{selectedCompany.value}}</span>
        </a>
        <div class="dropdown-menu ml-3" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" *ngFor="let company of companies$ | async"
            href="#company/{{company.id}}">{{company.value}}</a>
        </div>
      </li>

      <app-sidebar [items]="sidebarItems" [isMenuCollapsed]="app.layout.isMenuCollapsed && !isMouseOverNav"
        class="mt-3">
      </app-sidebar>
    </ul>

    <div id="content-wrapper" [ngClass]="{'menu-collapsed': app.layout.isMenuCollapsed}">
      <!-- Main Content -->
      <div id="content">

        <!-- Begin Page Content -->
        <div class="container-fluid">
          <!-- Page -->
          <router-outlet></router-outlet>

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->
</body>